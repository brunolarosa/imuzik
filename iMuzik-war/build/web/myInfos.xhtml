<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./templates/main_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://java.sun.com/jsf/html">


    <ui:define name="content">
        <f:view>
            <c:choose>
                <c:when test="${userMBean.userLogged.id == null}">
                    <h:form>
                        <h1><h:outputText value="Create/Edit"/></h1>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Email:" for="email" />
                            <h:inputText id="email" value="#{userMBean.email}" title="Email" />
                            <h:outputLabel value="Password:" for="password" />
                            <h:inputText id="password" value="#{userMBean.password}" title="Password" />
                            <h:commandLink value="Login" action="#{userMBean.connect()}"/>
                            <h:commandLink value="SignUp" action="#{userMBean.signup()}"/>
                        </h:panelGrid>
                    </h:form>
                </c:when>

                <c:otherwise>
                    <h:form>
                        <h1><h:outputText value="View"/></h1>
                        <h:panelGrid columns="2">
                            <h:outputText value="Id:"/>
                            <h:outputText value="#{userMBean.userLogged.id}" title="Id"/>
                            <h:outputText value="Email:"/>
                            <h:outputText value="#{userMBean.userLogged.email}" title="Email"/>
                            <h:outputText value="FirstName:"/>
                            <h:outputText value="#{userMBean.userLogged.firstName}" title="FirstName"/>
                            <h:outputText value="LastName:"/>
                            <h:outputText value="#{userMBean.userLogged.lastName}" title="LastName"/>
                            <h:outputText value="Password:"/>
                            <h:outputText value="#{userMBean.userLogged.password}" title="Password"/>
                            <h:commandLink value="LogOut" action="#{userMBean.disconnect()}"/>

                            <h:outputText value="#{userMBean.userLogged.myPlaylists}" title="Password"/>
                            <h:outputLabel value="namePlaylist" for="namePlaylist" />
                            <h:inputText id="namePlaylist" value="#{userMBean.namePlaylist}" title="namePlaylist" />
                            <h:commandLink value="createPlaylist" action="#{userMBean.createPlaylist()}"/>
                        </h:panelGrid>
                    </h:form>
                </c:otherwise>
            </c:choose>



        </f:view>
</ui:define>
    </ui:composition>